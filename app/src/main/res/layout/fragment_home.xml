<?xml version="1.0" encoding="utf-8"?>
<androidx.core.widget.NestedScrollView
     xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto"
     android:layout_height="match_parent"
     android:layout_width="match_parent"
     android:padding="4dp"
     android:clipToPadding="false">

    <LinearLayout
         android:layout_height="wrap_content"
         android:layout_width="match_parent"
         android:orientation="vertical">

        <com.google.android.material.card.MaterialCardView
             android:layout_height="wrap_content"
             android:layout_width="match_parent"
             android:layout_marginBottom="4dp"
             app:cardBackgroundColor="?attr/colorPrimaryContainer"
             style="?attr/materialCardViewFilledStyle">

            <LinearLayout
                 android:layout_height="wrap_content"
                 android:layout_width="match_parent"
                 android:padding="4dp"
                 android:orientation="vertical">

                <LinearLayout
                     android:layout_height="wrap_content"
                     android:layout_width="match_parent"
                     android:gravity="center_vertical"
                     android:orientation="horizontal">

                    <ImageView
                         android:layout_height="24dp"
                         android:layout_width="24dp"
                         android:src="@android:drawable/ic_menu_myplaces"
                         app:tint="?attr/colorOnPrimaryContainer" />

                    <TextView
                         android:layout_height="wrap_content"
                         android:layout_width="wrap_content"
                         android:textColor="?attr/colorOnPrimaryContainer"
                         style="@style/TextAppearance.Material3.TitleMedium"
                         android:layout_marginStart="12dp"
                         android:text="当前打卡用户" />

                </LinearLayout>

                <LinearLayout
                     android:layout_height="wrap_content"
                     android:layout_width="match_parent"
                     android:gravity="center_vertical"
                     android:orientation="horizontal"
                     android:layout_marginTop="6dp">

                    <FrameLayout
                         android:layout_height="wrap_content"
                         android:layout_width="0dp"
                         android:background="@drawable/bg_spinner_rounded"
                         android:paddingHorizontal="12dp"
                         android:layout_weight="1">

                        <Spinner
                             android:layout_height="48dp"
                             android:layout_width="match_parent"
                             android:id="@+id/spinnerUser">

                        </Spinner>

                    </FrameLayout>

                    <com.google.android.material.button.MaterialButton
                         android:layout_height="48dp"
                         android:layout_width="52dp"
                         app:icon="@android:drawable/ic_input_add"
                         app:backgroundTint="?attr/colorSurface"
                         app:iconTint="?attr/colorOnSecondaryContainer"
                         style="@style/Widget.Material3.Button.IconButton.Filled.Tonal"
                         android:layout_marginStart="8dp"
                         android:id="@+id/btnAddUser" />

                    <com.google.android.material.button.MaterialButton
                         android:layout_height="48dp"
                         android:layout_width="52dp"
                         app:icon="@android:drawable/ic_delete"
                         app:iconTint="#B00020"
                         style="@style/Widget.Material3.Button.IconButton"
                         android:id="@+id/btnDeleteUser" />

                </LinearLayout>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <com.google.android.material.card.MaterialCardView
             android:layout_height="wrap_content"
             android:layout_width="match_parent"
             android:layout_marginBottom="8dp"
             app:strokeColor="?attr/colorOutline"
             style="?attr/materialCardViewOutlinedStyle">

            <LinearLayout
                 android:layout_height="wrap_content"
                 android:layout_width="match_parent"
                 android:padding="6dp"
                 android:orientation="vertical">

                <LinearLayout
                     android:layout_height="wrap_content"
                     android:layout_width="match_parent"
                     android:gravity="center_vertical"
                     android:orientation="horizontal">

                    <TextView
                         android:layout_height="wrap_content"
                         android:layout_width="0dp"
                         android:textColor="?attr/colorOnSurfaceVariant"
                         style="@style/TextAppearance.Material3.LabelLarge"
                         android:layout_weight="1"
                         android:text="时间设定" />

                    <com.google.android.material.button.MaterialButton
                         android:layout_height="wrap_content"
                         android:layout_width="wrap_content"
                         android:minHeight="0dp"
                         android:paddingVertical="0dp"
                         style="@style/Widget.Material3.Button.TextButton"
                         android:id="@+id/btnResetTime"
                         android:text="恢复实时" />

                </LinearLayout>

                <com.google.android.material.chip.ChipGroup
                     android:layout_height="wrap_content"
                     android:layout_width="match_parent"
                     android:visibility="gone"
                     app:singleSelection="true"
                     android:layout_marginTop="8dp"
                     app:selectionRequired="true"
                     android:id="@+id/cgSmartTime">

                    <com.google.android.material.chip.Chip
                         android:layout_height="wrap_content"
                         android:layout_width="wrap_content"
                         style="@style/Widget.Material3.Chip.Filter"
                         android:id="@+id/chipAm"
                         android:text="上午" />

                    <com.google.android.material.chip.Chip
                         android:layout_height="wrap_content"
                         android:layout_width="wrap_content"
                         style="@style/Widget.Material3.Chip.Filter"
                         android:id="@+id/chipPm"
                         android:text="下午" />

                </com.google.android.material.chip.ChipGroup>

                <TextView
                     android:layout_height="wrap_content"
                     android:layout_width="match_parent"
                     android:textColor="?attr/colorOnSurface"
                     style="@style/TextAppearance.Material3.HeadlineSmall"
                     android:layout_marginTop="4dp"
                     android:id="@+id/tvSelectedTime"
                     android:text="当前时间(自动)" />

                <com.google.android.material.chip.Chip
                     android:layout_height="wrap_content"
                     android:layout_width="wrap_content"
                     android:visibility="gone"
                     style="@style/Widget.Material3.Chip.Assist"
                     app:chipIcon="@android:drawable/ic_menu_info_details"
                     android:layout_marginTop="4dp"
                     android:id="@+id/chipRuleTip"
                     android:text="启用推荐" />

                <LinearLayout
                     android:layout_height="wrap_content"
                     android:layout_width="match_parent"
                     android:orientation="horizontal"
                     android:layout_marginTop="16dp">

                    <com.google.android.material.button.MaterialButton
                         android:layout_height="48dp"
                         android:layout_width="0dp"
                         app:backgroundTint="?attr/colorSecondary"
                         style="@style/Widget.Material3.Button"
                         android:layout_weight="1.4"
                         android:id="@+id/btnSmartTime"
                         android:text="智能补卡" />

                    <Space
                         android:layout_height="wrap_content"
                         android:layout_width="8dp" />

                    <com.google.android.material.button.MaterialButton
                         android:layout_height="48dp"
                         android:layout_width="0dp"
                         style="@style/Widget.Material3.Button.OutlinedButton"
                         android:layout_weight="1"
                         android:id="@+id/btnPickTime"
                         android:text="手动" />

                </LinearLayout>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <com.google.android.material.button.MaterialButton
             android:layout_height="48dp"
             android:layout_width="match_parent"
             android:layout_marginBottom="8dp"
             style="@style/Widget.Material3.Button.TonalButton"
             android:id="@+id/btnConnect"
             android:text="第一步：连接服务器" />

        <LinearLayout
             android:layout_height="wrap_content"
             android:layout_width="match_parent"
             android:layout_marginBottom="12dp"
             android:gravity="center_vertical">

            <View
                 android:layout_height="12dp"
                 android:layout_width="12dp"
                 android:background="@drawable/shape_dot_disconnected"
                 android:id="@+id/viewStatusDot" />

            <TextView
                 android:layout_height="wrap_content"
                 android:layout_width="wrap_content"
                 style="@style/TextAppearance.Material3.BodyMedium"
                 android:layout_marginStart="8dp"
                 android:id="@+id/tvStatus"
                 android:text="未连接" />

        </LinearLayout>

        <com.google.android.material.button.MaterialButton
             android:layout_height="48dp"
             android:layout_width="match_parent"
             app:cornerRadius="28dp"
             style="@style/Widget.Material3.Button"
             android:enabled="false"
             android:id="@+id/btnSimulateActiveCheckIn"
             android:text="第二步：模拟打卡机打卡" />

        <com.google.android.material.divider.MaterialDivider
             android:layout_height="wrap_content"
             android:layout_width="match_parent"
             android:layout_marginVertical="20dp" />

        <TextView
             android:layout_height="wrap_content"
             android:layout_width="wrap_content"
             android:layout_marginBottom="8dp"
             style="@style/TextAppearance.Material3.LabelLarge"
             android:text="控制台日志" />

        <androidx.recyclerview.widget.RecyclerView
             android:layout_height="220dp"
             android:layout_width="match_parent"
             android:background="@drawable/bg_log_area"
             android:padding="4dp"
             android:id="@+id/rvLog" />

    </LinearLayout>

</androidx.core.widget.NestedScrollView>